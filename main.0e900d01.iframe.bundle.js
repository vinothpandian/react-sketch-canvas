(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{103:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ReactSketchCanvas_ReactSketchCanvas}));__webpack_require__(63);var slicedToArray=__webpack_require__(69),slicedToArray_default=__webpack_require__.n(slicedToArray),classCallCheck=__webpack_require__(227),classCallCheck_default=__webpack_require__.n(classCallCheck),createClass=__webpack_require__(228),createClass_default=__webpack_require__.n(createClass),assertThisInitialized=__webpack_require__(40),assertThisInitialized_default=__webpack_require__.n(assertThisInitialized),inherits=__webpack_require__(229),inherits_default=__webpack_require__.n(inherits),possibleConstructorReturn=__webpack_require__(230),possibleConstructorReturn_default=__webpack_require__.n(possibleConstructorReturn),getPrototypeOf=__webpack_require__(148),getPrototypeOf_default=__webpack_require__.n(getPrototypeOf),defineProperty=(__webpack_require__(22),__webpack_require__(6),__webpack_require__(42),__webpack_require__(140),__webpack_require__(168),__webpack_require__(38),__webpack_require__(169),__webpack_require__(170),__webpack_require__(139),__webpack_require__(50),__webpack_require__(8),__webpack_require__(53),__webpack_require__(24),__webpack_require__(302),__webpack_require__(60),__webpack_require__(210),__webpack_require__(10),__webpack_require__(15),__webpack_require__(12),__webpack_require__(211),__webpack_require__(110)),react=__webpack_require__(0),jsx_runtime=(__webpack_require__(25),__webpack_require__(18)),controlPoint=function controlPoint(controlPoints){var current=controlPoints.current,next=controlPoints.next,previous=controlPoints.previous,reverse=controlPoints.reverse,o=function line(pointA,pointB){var lengthX=pointB.x-pointA.x,lengthY=pointB.y-pointA.y;return{length:Math.sqrt(Math.pow(lengthX,2)+Math.pow(lengthY,2)),angle:Math.atan2(lengthY,lengthX)}}(previous||current,next||current),angle=o.angle+(reverse?Math.PI:0),length=.2*o.length;return[current.x+Math.cos(angle)*length,current.y+Math.sin(angle)*length]},Paths_bezierCommand=function bezierCommand(point,i,a){var cpsX=null,cpsY=null;switch(i){case 0:var _controlPoint=controlPoint({current:point}),_controlPoint2=slicedToArray_default()(_controlPoint,2);cpsX=_controlPoint2[0],cpsY=_controlPoint2[1];break;case 1:var _controlPoint3=controlPoint({current:a[i-1],next:point}),_controlPoint4=slicedToArray_default()(_controlPoint3,2);cpsX=_controlPoint4[0],cpsY=_controlPoint4[1];break;default:var _controlPoint5=controlPoint({current:a[i-1],previous:a[i-2],next:point}),_controlPoint6=slicedToArray_default()(_controlPoint5,2);cpsX=_controlPoint6[0],cpsY=_controlPoint6[1]}var _controlPoint7=controlPoint({current:point,previous:a[i-1],next:a[i+1],reverse:!0}),_controlPoint8=slicedToArray_default()(_controlPoint7,2),cpeX=_controlPoint8[0],cpeY=_controlPoint8[1];return"C ".concat(cpsX,",").concat(cpsY," ").concat(cpeX,",").concat(cpeY," ").concat(point.x,", ").concat(point.y)},Paths_Paths=function Paths(_ref){var paths=_ref.paths;return Object(jsx_runtime.jsx)(react.Fragment,{children:paths.map((function(path,id){return function svgPath(paths,id,strokeWidth,strokeColor,command){var d=paths.reduce((function(acc,point,i,a){return 0===i?"M ".concat(point.x,",").concat(point.y):"".concat(acc," ").concat(command(point,i,a))}),"");return Object(jsx_runtime.jsx)("path",{d:d,fill:"none",strokeLinecap:"round",stroke:strokeColor,strokeWidth:strokeWidth},id)}(path.paths,id.toString(),path.strokeWidth,path.strokeColor,Paths_bezierCommand)}))})},lib_Paths=Paths_Paths;try{Paths_Paths.displayName="Paths",Paths_Paths.__docgenInfo={description:"",displayName:"Paths",props:{paths:{defaultValue:null,description:"",name:"paths",required:!0,type:{name:"CanvasPath[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["libs/react-sketch-canvas/src/lib/Paths/index.tsx#Paths"]={docgenInfo:Paths_Paths.__docgenInfo,name:"Paths",path:"libs/react-sketch-canvas/src/lib/Paths/index.tsx#Paths"})}catch(__react_docgen_typescript_loader_error){}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=getPrototypeOf_default()(Derived);if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return possibleConstructorReturn_default()(this,result)}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){Object(defineProperty.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var loadImage=function loadImage(url){return new Promise((function(resolve,reject){var img=new Image;img.addEventListener("load",(function(){return resolve(img)})),img.addEventListener("error",(function(err){return reject(err)})),img.src=url,img.setAttribute("crossorigin","anonymous")}))};function getCanvasWithViewBox(canvas){var _canvas$firstChild,svgCanvas=null===(_canvas$firstChild=canvas.firstChild)||void 0===_canvas$firstChild?void 0:_canvas$firstChild.cloneNode(!0),width=canvas.offsetWidth,height=canvas.offsetHeight;return svgCanvas.setAttribute("viewBox","0 0 ".concat(width," ").concat(height)),svgCanvas.setAttribute("width",width.toString()),svgCanvas.setAttribute("height",height.toString()),{svgCanvas:svgCanvas,width:width,height:height}}var Canvas_Canvas=function(_React$Component){inherits_default()(Canvas,_React$Component);var _super=_createSuper(Canvas);function Canvas(props){var _this;return classCallCheck_default()(this,Canvas),(_this=_super.call(this,props)).canvas=void 0,_this.handlePointerDown=_this.handlePointerDown.bind(assertThisInitialized_default()(_this)),_this.handlePointerMove=_this.handlePointerMove.bind(assertThisInitialized_default()(_this)),_this.handlePointerUp=_this.handlePointerUp.bind(assertThisInitialized_default()(_this)),_this.getCoordinates=_this.getCoordinates.bind(assertThisInitialized_default()(_this)),_this.exportImage=_this.exportImage.bind(assertThisInitialized_default()(_this)),_this.exportSvg=_this.exportSvg.bind(assertThisInitialized_default()(_this)),_this.canvas=react.createRef(),_this}return createClass_default()(Canvas,[{key:"componentDidMount",value:function componentDidMount(){document.addEventListener("pointerup",this.handlePointerUp)}},{key:"componentWillUnmount",value:function componentWillUnmount(){document.removeEventListener("pointerup",this.handlePointerUp)}},{key:"getCoordinates",value:function getCoordinates(pointerEvent){var _this$canvas$current,_window$scrollX,_window$scrollY,boundingArea=null===(_this$canvas$current=this.canvas.current)||void 0===_this$canvas$current?void 0:_this$canvas$current.getBoundingClientRect(),scrollLeft=null!==(_window$scrollX=window.scrollX)&&void 0!==_window$scrollX?_window$scrollX:0,scrollTop=null!==(_window$scrollY=window.scrollY)&&void 0!==_window$scrollY?_window$scrollY:0;return boundingArea?{x:pointerEvent.pageX-boundingArea.left-scrollLeft,y:pointerEvent.pageY-boundingArea.top-scrollTop}:{x:0,y:0}}},{key:"handlePointerDown",value:function handlePointerDown(event){var _this$props=this.props,allowOnlyPointerType=_this$props.allowOnlyPointerType,onPointerDown=_this$props.onPointerDown;"all"!==allowOnlyPointerType&&event.pointerType!==allowOnlyPointerType||("mouse"===event.pointerType&&0!==event.button||onPointerDown(this.getCoordinates(event)))}},{key:"handlePointerMove",value:function handlePointerMove(event){var _this$props2=this.props,isDrawing=_this$props2.isDrawing,allowOnlyPointerType=_this$props2.allowOnlyPointerType,onPointerMove=_this$props2.onPointerMove;isDrawing&&("all"!==allowOnlyPointerType&&event.pointerType!==allowOnlyPointerType||onPointerMove(this.getCoordinates(event)))}},{key:"handlePointerUp",value:function handlePointerUp(event){if("mouse"!==event.pointerType||0===event.button){var _this$props3=this.props,allowOnlyPointerType=_this$props3.allowOnlyPointerType,onPointerUp=_this$props3.onPointerUp;"all"!==allowOnlyPointerType&&event.pointerType!==allowOnlyPointerType||onPointerUp()}}},{key:"exportImage",value:function exportImage(imageType){var _this2=this;return new Promise((function(resolve,reject){try{var canvas=_this2.canvas.current;if(!canvas)throw Error("Canvas not rendered yet");var _this2$props=_this2.props,backgroundImage=_this2$props.backgroundImage,exportWithBackgroundImage=_this2$props.exportWithBackgroundImage,_getCanvasWithViewBox=getCanvasWithViewBox(canvas),svgCanvas=_getCanvasWithViewBox.svgCanvas,width=_getCanvasWithViewBox.width,height=_getCanvasWithViewBox.height,canvasSketch="data:image/svg+xml;base64,".concat(btoa(svgCanvas.outerHTML)),loadImagePromises=[loadImage(canvasSketch)];exportWithBackgroundImage&&loadImagePromises.push(loadImage(backgroundImage)),Promise.all(loadImagePromises).then((function(images){var renderCanvas=document.createElement("canvas");renderCanvas.setAttribute("width",width.toString()),renderCanvas.setAttribute("height",height.toString());var context=renderCanvas.getContext("2d");if(!context)throw Error("Canvas not rendered yet");images.reverse().forEach((function(image){context.drawImage(image,0,0)})),resolve(renderCanvas.toDataURL("image/".concat(imageType)))})).catch((function(e){throw e}))}catch(e){console.error(e),reject(e)}}))}},{key:"exportSvg",value:function exportSvg(){var _this3=this;return new Promise((function(resolve,reject){try{var _this$canvas$current2,_this$canvas,canvas=null!==(_this$canvas$current2=null===(_this$canvas=_this3.canvas)||void 0===_this$canvas?void 0:_this$canvas.current)&&void 0!==_this$canvas$current2?_this$canvas$current2:null;if(null!==canvas){var _svgCanvas$querySelec,_svgCanvas$querySelec2,svgCanvas=getCanvasWithViewBox(canvas).svgCanvas,_this3$props=_this3.props,exportWithBackgroundImage=_this3$props.exportWithBackgroundImage,canvasColor=_this3$props.canvasColor;if(exportWithBackgroundImage)return void resolve(svgCanvas.outerHTML);null===(_svgCanvas$querySelec=svgCanvas.querySelector("#background"))||void 0===_svgCanvas$querySelec||_svgCanvas$querySelec.remove(),null===(_svgCanvas$querySelec2=svgCanvas.querySelector("#canvas-background"))||void 0===_svgCanvas$querySelec2||_svgCanvas$querySelec2.setAttribute("fill",canvasColor),resolve(svgCanvas.outerHTML)}reject(new Error("Canvas not loaded"))}catch(e){reject(e)}}))}},{key:"render",value:function render(){var _this$props4=this.props,width=_this$props4.width,height=_this$props4.height,className=_this$props4.className,canvasColor=_this$props4.canvasColor,backgroundImage=_this$props4.backgroundImage,style=_this$props4.style,paths=_this$props4.paths,preserveBackgroundImageAspectRatio=_this$props4.preserveBackgroundImageAspectRatio,_partitionPenAndErase=function partitionPenAndEraser(paths){return paths.reduce((function(partition,path){return partition[+path.drawMode].push(path),partition}),[[],[]])}(paths),_partitionPenAndErase2=slicedToArray_default()(_partitionPenAndErase,2),eraserPaths=_partitionPenAndErase2[0],penPaths=_partitionPenAndErase2[1];return Object(jsx_runtime.jsx)("div",{role:"presentation",ref:this.canvas,className:className,style:_objectSpread({touchAction:"none",width:width,height:height},style),"touch-action":"none",onPointerDown:this.handlePointerDown,onPointerMove:this.handlePointerMove,onPointerUp:this.handlePointerUp,children:Object(jsx_runtime.jsxs)("svg",{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{width:"100%",height:"100%"},children:[Object(jsx_runtime.jsxs)("defs",{children:[backgroundImage&&Object(jsx_runtime.jsx)("pattern",{id:"background",x:"0",y:"0",width:"100%",height:"100%",patternUnits:"userSpaceOnUse",children:Object(jsx_runtime.jsx)("image",{x:"0",y:"0",width:"100%",height:"100%",xlinkHref:backgroundImage,preserveAspectRatio:preserveBackgroundImageAspectRatio})}),Object(jsx_runtime.jsxs)("mask",{id:"eraser",children:[Object(jsx_runtime.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),Object(jsx_runtime.jsx)(lib_Paths,{paths:eraserPaths})]})]}),Object(jsx_runtime.jsx)("g",{id:"canvas-background-group",children:Object(jsx_runtime.jsx)("rect",{id:"canvas-background",x:"0",y:"0",width:"100%",height:"100%",fill:backgroundImage?"url(#background)":canvasColor})}),Object(jsx_runtime.jsx)("g",{id:"canvas-pen-paths",mask:"url(#eraser)",children:Object(jsx_runtime.jsx)(lib_Paths,{paths:penPaths})})]})})}}]),Canvas}(react.Component);Canvas_Canvas.defaultProps={width:"100%",height:"100%",className:"",canvasColor:"red",backgroundImage:"",exportWithBackgroundImage:!0,preserveBackgroundImageAspectRatio:"none",allowOnlyPointerType:"all",style:{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"},withTimeStamp:!0};try{Canvas_Canvas.displayName="Canvas",Canvas_Canvas.__docgenInfo={description:"",displayName:"Canvas",props:{paths:{defaultValue:null,description:"",name:"paths",required:!0,type:{name:"CanvasPath[]"}},isDrawing:{defaultValue:null,description:"",name:"isDrawing",required:!0,type:{name:"boolean"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},onPointerDown:{defaultValue:null,description:"",name:"onPointerDown",required:!0,type:{name:"(point: Point) => void"}},onPointerMove:{defaultValue:null,description:"",name:"onPointerMove",required:!0,type:{name:"(point: Point) => void"}},onPointerUp:{defaultValue:null,description:"",name:"onPointerUp",required:!0,type:{name:"() => void"}},width:{defaultValue:{value:"100%"},description:"",name:"width",required:!1,type:{name:"string"}},height:{defaultValue:{value:"100%"},description:"",name:"height",required:!1,type:{name:"string"}},canvasColor:{defaultValue:{value:"red"},description:"",name:"canvasColor",required:!1,type:{name:"string"}},backgroundImage:{defaultValue:{value:""},description:"",name:"backgroundImage",required:!1,type:{name:"string"}},exportWithBackgroundImage:{defaultValue:{value:"true"},description:"",name:"exportWithBackgroundImage",required:!1,type:{name:"boolean"}},preserveBackgroundImageAspectRatio:{defaultValue:{value:"none"},description:"",name:"preserveBackgroundImageAspectRatio",required:!1,type:{name:"string"}},allowOnlyPointerType:{defaultValue:{value:"all"},description:"",name:"allowOnlyPointerType",required:!1,type:{name:"string"}},style:{defaultValue:{value:"{\n    border: '0.0625rem solid #9c9c9c',\n    borderRadius: '0.25rem',\n  }"},description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["libs/react-sketch-canvas/src/lib/Canvas/index.tsx#Canvas"]={docgenInfo:Canvas_Canvas.__docgenInfo,name:"Canvas",path:"libs/react-sketch-canvas/src/lib/Canvas/index.tsx#Canvas"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(858);var immer_esm=__webpack_require__(92);function ReactSketchCanvas_createSuper(Derived){var hasNativeReflectConstruct=function ReactSketchCanvas_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=getPrototypeOf_default()(Derived);if(hasNativeReflectConstruct){var NewTarget=getPrototypeOf_default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return possibleConstructorReturn_default()(this,result)}}function ReactSketchCanvas_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function ReactSketchCanvas_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ReactSketchCanvas_ownKeys(Object(source),!0).forEach((function(key){Object(defineProperty.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ReactSketchCanvas_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var ReactSketchCanvas_ReactSketchCanvas=function(_React$Component){inherits_default()(ReactSketchCanvas,_React$Component);var _super=ReactSketchCanvas_createSuper(ReactSketchCanvas);function ReactSketchCanvas(props){var _this;return classCallCheck_default()(this,ReactSketchCanvas),(_this=_super.call(this,props)).svgCanvas=void 0,_this.initialState={drawMode:!0,isDrawing:!1,resetStack:[],undoStack:[],currentPaths:[]},_this.state=_this.initialState,_this.handlePointerDown=_this.handlePointerDown.bind(assertThisInitialized_default()(_this)),_this.handlePointerMove=_this.handlePointerMove.bind(assertThisInitialized_default()(_this)),_this.handlePointerUp=_this.handlePointerUp.bind(assertThisInitialized_default()(_this)),_this.exportImage=_this.exportImage.bind(assertThisInitialized_default()(_this)),_this.exportSvg=_this.exportSvg.bind(assertThisInitialized_default()(_this)),_this.exportPaths=_this.exportPaths.bind(assertThisInitialized_default()(_this)),_this.loadPaths=_this.loadPaths.bind(assertThisInitialized_default()(_this)),_this.eraseMode=_this.eraseMode.bind(assertThisInitialized_default()(_this)),_this.clearCanvas=_this.clearCanvas.bind(assertThisInitialized_default()(_this)),_this.undo=_this.undo.bind(assertThisInitialized_default()(_this)),_this.redo=_this.redo.bind(assertThisInitialized_default()(_this)),_this.resetCanvas=_this.resetCanvas.bind(assertThisInitialized_default()(_this)),_this.getSketchingTime=_this.getSketchingTime.bind(assertThisInitialized_default()(_this)),_this.liftPathsUp=_this.liftPathsUp.bind(assertThisInitialized_default()(_this)),_this.svgCanvas=react.createRef(),_this}return createClass_default()(ReactSketchCanvas,[{key:"getSketchingTime",value:function getSketchingTime(){var withTimestamp=this.props.withTimestamp,currentPaths=this.state.currentPaths;return new Promise((function(resolve,reject){withTimestamp||reject(new Error("Set 'withTimestamp' prop to get sketching time"));try{resolve(currentPaths.reduce((function(totalSketchingTime,path){var _path$startTimestamp,_path$endTimestamp,startTimestamp=null!==(_path$startTimestamp=path.startTimestamp)&&void 0!==_path$startTimestamp?_path$startTimestamp:0;return totalSketchingTime+((null!==(_path$endTimestamp=path.endTimestamp)&&void 0!==_path$endTimestamp?_path$endTimestamp:0)-startTimestamp)}),0))}catch(e){reject(e)}}))}},{key:"resetCanvas",value:function resetCanvas(){this.setState(this.initialState)}},{key:"liftPathsUp",value:function liftPathsUp(){var currentPaths=this.state.currentPaths;(0,this.props.onUpdate)(currentPaths)}},{key:"handlePointerDown",value:function handlePointerDown(point){var _this$props=this.props,strokeColor=_this$props.strokeColor,strokeWidth=_this$props.strokeWidth,eraserWidth=_this$props.eraserWidth,withTimestamp=_this$props.withTimestamp;this.setState(Object(immer_esm.a)((function(draft){draft.isDrawing=!0,draft.undoStack=[];var stroke={drawMode:draft.drawMode,strokeColor:draft.drawMode?strokeColor:"#000000",strokeWidth:draft.drawMode?strokeWidth:eraserWidth,paths:[point]};withTimestamp&&(stroke=ReactSketchCanvas_objectSpread(ReactSketchCanvas_objectSpread({},stroke),{},{startTimestamp:Date.now(),endTimestamp:0})),draft.currentPaths.push(stroke)})),this.liftPathsUp)}},{key:"handlePointerMove",value:function handlePointerMove(point){this.state.isDrawing&&this.setState(Object(immer_esm.a)((function(draft){draft.currentPaths[draft.currentPaths.length-1].paths.push(point)})),this.liftPathsUp)}},{key:"handlePointerUp",value:function handlePointerUp(){var withTimestamp=this.props.withTimestamp;this.state.isDrawing&&this.setState(Object(immer_esm.a)((function(draft){if(draft.isDrawing=!1,withTimestamp){var currentStroke=draft.currentPaths.pop();currentStroke&&(currentStroke=ReactSketchCanvas_objectSpread(ReactSketchCanvas_objectSpread({},currentStroke),{},{endTimestamp:Date.now()}),draft.currentPaths.push(currentStroke))}})),this.liftPathsUp)}},{key:"eraseMode",value:function eraseMode(erase){this.setState(Object(immer_esm.a)((function(draft){draft.drawMode=!erase})),this.liftPathsUp)}},{key:"clearCanvas",value:function clearCanvas(){this.setState(Object(immer_esm.a)((function(draft){draft.resetStack=draft.currentPaths,draft.currentPaths=[]})),this.liftPathsUp)}},{key:"undo",value:function undo(){0===this.state.resetStack.length?this.setState(Object(immer_esm.a)((function(draft){var lastSketchPath=draft.currentPaths.pop();lastSketchPath&&draft.undoStack.push(lastSketchPath)})),this.liftPathsUp):this.setState(Object(immer_esm.a)((function(draft){draft.currentPaths=draft.resetStack,draft.resetStack=[]})),this.liftPathsUp)}},{key:"redo",value:function redo(){0!==this.state.undoStack.length&&this.setState(Object(immer_esm.a)((function(draft){var lastUndoPath=draft.undoStack.pop();lastUndoPath&&draft.currentPaths.push(lastUndoPath)})),this.liftPathsUp)}},{key:"exportImage",value:function exportImage(imageType){var _this$svgCanvas$curre,exportImage=null===(_this$svgCanvas$curre=this.svgCanvas.current)||void 0===_this$svgCanvas$curre?void 0:_this$svgCanvas$curre.exportImage;if(exportImage)return exportImage(imageType);throw Error("Export function called before canvas loaded")}},{key:"exportSvg",value:function exportSvg(){var _this2=this;return new Promise((function(resolve,reject){var _this$svgCanvas$curre2,exportSvg=null===(_this$svgCanvas$curre2=_this2.svgCanvas.current)||void 0===_this$svgCanvas$curre2?void 0:_this$svgCanvas$curre2.exportSvg;exportSvg?exportSvg().then((function(data){resolve(data)})).catch((function(e){reject(e)})):reject(Error("Export function called before canvas loaded"))}))}},{key:"exportPaths",value:function exportPaths(){var currentPaths=this.state.currentPaths;return new Promise((function(resolve,reject){try{resolve(currentPaths)}catch(e){reject(e)}}))}},{key:"loadPaths",value:function loadPaths(paths){this.setState(Object(immer_esm.a)((function(draft){draft.currentPaths=draft.currentPaths.concat(paths)})),this.liftPathsUp)}},{key:"render",value:function render(){var _this$props2=this.props,width=_this$props2.width,height=_this$props2.height,className=_this$props2.className,canvasColor=_this$props2.canvasColor,backgroundImage=_this$props2.backgroundImage,preserveBackgroundImageAspectRatio=_this$props2.preserveBackgroundImageAspectRatio,exportWithBackgroundImage=_this$props2.exportWithBackgroundImage,style=_this$props2.style,allowOnlyPointerType=_this$props2.allowOnlyPointerType,_this$state=this.state,currentPaths=_this$state.currentPaths,isDrawing=_this$state.isDrawing;return Object(jsx_runtime.jsx)(Canvas_Canvas,{ref:this.svgCanvas,width:width,height:height,className:className,canvasColor:canvasColor,backgroundImage:backgroundImage,exportWithBackgroundImage:exportWithBackgroundImage,preserveBackgroundImageAspectRatio:preserveBackgroundImageAspectRatio,allowOnlyPointerType:allowOnlyPointerType,style:style,paths:currentPaths,isDrawing:isDrawing,onPointerDown:this.handlePointerDown,onPointerMove:this.handlePointerMove,onPointerUp:this.handlePointerUp})}}]),ReactSketchCanvas}(react.Component);ReactSketchCanvas_ReactSketchCanvas.defaultProps={width:"100%",height:"100%",className:"",canvasColor:"white",strokeColor:"red",backgroundImage:"",exportWithBackgroundImage:!0,preserveBackgroundImageAspectRatio:"none",strokeWidth:4,eraserWidth:8,allowOnlyPointerType:"all",style:{border:"0.0625rem solid #9c9c9c",borderRadius:"0.25rem"},onUpdate:function onUpdate(_){},withTimestamp:!1};try{ReactSketchCanvas_ReactSketchCanvas.displayName="ReactSketchCanvas",ReactSketchCanvas_ReactSketchCanvas.__docgenInfo={description:"",displayName:"ReactSketchCanvas",props:{width:{defaultValue:{value:"100%"},description:"",name:"width",required:!1,type:{name:"string"}},height:{defaultValue:{value:"100%"},description:"",name:"height",required:!1,type:{name:"string"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},strokeColor:{defaultValue:{value:"red"},description:"",name:"strokeColor",required:!1,type:{name:"string"}},canvasColor:{defaultValue:{value:"white"},description:"",name:"canvasColor",required:!1,type:{name:"string"}},backgroundImage:{defaultValue:{value:""},description:"",name:"backgroundImage",required:!1,type:{name:"string"}},exportWithBackgroundImage:{defaultValue:{value:"true"},description:"",name:"exportWithBackgroundImage",required:!1,type:{name:"boolean"}},preserveBackgroundImageAspectRatio:{defaultValue:{value:"none"},description:"",name:"preserveBackgroundImageAspectRatio",required:!1,type:{name:"string"}},strokeWidth:{defaultValue:{value:"4"},description:"",name:"strokeWidth",required:!1,type:{name:"number"}},eraserWidth:{defaultValue:{value:"8"},description:"",name:"eraserWidth",required:!1,type:{name:"number"}},allowOnlyPointerType:{defaultValue:{value:"all"},description:"",name:"allowOnlyPointerType",required:!1,type:{name:"string"}},onUpdate:{defaultValue:{value:"(_: CanvasPath[]): void => {}"},description:"",name:"onUpdate",required:!1,type:{name:"(updatedPaths: CanvasPath[]) => void"}},style:{defaultValue:{value:"{\n    border: '0.0625rem solid #9c9c9c',\n    borderRadius: '0.25rem',\n  }"},description:"",name:"style",required:!1,type:{name:"CSSProperties"}},withTimestamp:{defaultValue:{value:"false"},description:"",name:"withTimestamp",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["libs/react-sketch-canvas/src/lib/ReactSketchCanvas/index.tsx#ReactSketchCanvas"]={docgenInfo:ReactSketchCanvas_ReactSketchCanvas.__docgenInfo,name:"ReactSketchCanvas",path:"libs/react-sketch-canvas/src/lib/ReactSketchCanvas/index.tsx#ReactSketchCanvas"})}catch(__react_docgen_typescript_loader_error){}},491:function(module,exports,__webpack_require__){__webpack_require__(492),__webpack_require__(652),__webpack_require__(653),__webpack_require__(870),__webpack_require__(866),__webpack_require__(872),__webpack_require__(871),__webpack_require__(867),__webpack_require__(873),__webpack_require__(868),__webpack_require__(869),__webpack_require__(874),module.exports=__webpack_require__(848)},559:function(module,exports){},653:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(212)},848:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(212).configure)([__webpack_require__(849),__webpack_require__(859)],module,!1)}).call(this,__webpack_require__(204)(module))},849:function(module,exports,__webpack_require__){var map={"./0.demo.stories.mdx":850};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=849},850:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(226),___WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(103);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}const layoutProps={};function MDXContent({components:components,...props}){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.b,{title:"Documentation/React Sketch Canvas",component:___WEBPACK_IMPORTED_MODULE_3__.a,mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("p",{align:"center"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("img",{src:"https://i.imgur.com/ajs39FC.png",height:"150",alt:"React Sketch Canvas"})),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("p",null,"Freehand vector drawing tool for React using SVG as canvas ðŸ–Œ"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("hr",null),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("h3",{id:"features"},"Features"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("li",{parentName:"ul"},"Supports Desktop and Mobile."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("li",{parentName:"ul"},"Accepts input from Mouse, touch, and graphic tablets.")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("h3",{id:"requirements"},"Requirements"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("li",{parentName:"ul"},"Requires React >= 16.4"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("li",{parentName:"ul"},"Depends on Immer")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("h2",{id:"installation"},"Installation"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("p",null,"If you use npm"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("code",{parentName:"pre",className:"language-sh"},"npm i react-sketch-canvas\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("p",null,"or with yarn"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("code",{parentName:"pre",className:"language-sh"},"yarn add react-sketch-canvas\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("h2",{id:"example"},"Example"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("p",null,"Common usage example"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("code",{parentName:"pre",className:"language-javascript"},"import * as React from 'react';\nimport { ReactSketchCanvas } from 'react-sketch-canvas';\n\nconst styles = {\n  border: '0.0625rem solid #9c9c9c',\n  borderRadius: '0.25rem',\n};\n\nconst Canvas = () => {\n  return (\n    <ReactSketchCanvas\n      style={styles}\n      width=\"600\"\n      height=\"400\"\n      strokeWidth={4}\n      strokeColor=\"red\"\n    />\n  );\n};\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("p",null,"To export Data URL of your sketch use ref"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("code",{parentName:"pre",className:"language-javascript"},'import * as React from "react";\nimport { ReactSketchCanvas } from "react-sketch-canvas";\n\nconst styles = {\n  border: "0.0625rem solid #9c9c9c",\n  borderRadius: "0.25rem"\n};\n\nconst Canvas = class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.canvas = React.createRef();\n  }\n\n  render() {\n    return (\n      <div>\n        <ReactSketchCanvas\n          ref={this.canvas}\n          strokeWidth={5}\n          strokeColor="black"\n        />\n        <button\n          onClick={() => {\n            this.canvas.current.\n              .exportImage("png")\n              .then(data => {\n                console.log(data);\n              })\n              .catch(e => {\n                console.log(e);\n              });\n          }}\n        >\n          Get Image\n        </button>\n      </div>\n    );\n  }\n};\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("h2",{id:"list-of-props"},"List of Props"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("table",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("thead",{parentName:"table"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"thead"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("th",{parentName:"tr",align:null},"Props"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("th",{parentName:"tr",align:null},"Expected datatype"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("th",{parentName:"tr",align:null},"Default value"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("th",{parentName:"tr",align:null},"Description"))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tbody",{parentName:"table"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"width"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"PropTypes.string"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"100%"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"canvas width (em/rem/px)")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"height"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"PropTypes.string"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"100%"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"canvas width (em/rem/px)")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"className"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"PropTypes.string"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},'""'),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"Class for using with CSS selectors")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"strokeColor"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"PropTypes.string"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"black"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"Pen color")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"canvasColor"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"PropTypes.string"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"white"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"canvas color (HTML colors)")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"backgroundImage"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"PropTypes.string"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"''"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"Set SVG background with image URL")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"exportWithBackgroundImage"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"PropTypes.bool"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"true"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"Keep background image on image/SVG export (on false, canvasColor will be set as background)")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"preserveBackgroundImageAspectRatio"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"PropTypes.string"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"none"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"Set aspect ratio of the background image. For possible values check ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("a",{parentName:"td",href:"https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/preserveAspectRatio",target:"_blank",rel:"nofollow noopener noreferrer"},"MDN docs"))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"strokeWidth"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"PropTypes.number"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"4"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"Pen stroke size")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"eraserWidth"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"PropTypes.number"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"8"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"Erase size")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"allowOnlyPointerType"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"PropTypes.string"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"all"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},'allow pointer type ("all"/"mouse"/"pen"/"touch")')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"onUpdate"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"PropTypes.func"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"all"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"Returns the current sketch path in ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("inlineCode",{parentName:"td"},"CanvasPath")," type on every update")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"style"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"PropTypes.object"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"false"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"Add CSS styling as CSS-in-JS object")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"withTimestamp"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"PropTypes.bool"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"false"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"Add timestamp to individual strokes for measuring sketching time")))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("p",null,"Set SVG background using CSS ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/CSS/background",target:"_blank",rel:"nofollow noopener noreferrer"},"background")," value"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("p",null,"You can specify width and height values in em or rem. It fills the parent element space if width and height are not set"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("br",null),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("h2",{id:"methods"},"Methods"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("p",null,"You can export the sketch as an image or as a svg"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("p",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("em",{parentName:"p"},"Use ref to access the element and call the following functions to export image")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("table",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("thead",{parentName:"table"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"thead"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("th",{parentName:"tr",align:null},"Props"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("th",{parentName:"tr",align:null},"Expected datatype"))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tbody",{parentName:"table"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"eraseMode(boolean)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"Switch to eraser mode by passing true. You can switch back to pen mode by passing false")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"clearCanvas()"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"Clears the canvas.")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"resetCanvas()"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"Resets the canvas and clears the undo/redo stack along with it.")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"undo()"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"Undo the last action.")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"redo()"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"Redo the previous action.")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"exportImage(imageTypeString)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"Accepts an image type as argument (",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("inlineCode",{parentName:"td"},"ExportImageType"),") and returns a Promise which resolves to base64 data url of the sketch.")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"exportSvg()"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"returns a Promise which resolves to an inline SVG element.")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"exportPaths()"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"returns a Promise which resolves to an instance of ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("inlineCode",{parentName:"td"},"CanvasPath"),".")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"loadPaths(CanvasPath)"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"Accepts an ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("inlineCode",{parentName:"td"},"CanvasPath")," exported from exportPaths() and loads it on the canvas.")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("tr",{parentName:"tbody"},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"getSketchingTime()"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("td",{parentName:"tr",align:null},"returns a Promise which resolves the time that user sketched in the canvas (considers only when the user made the strokes or erased the strokes)")))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("h2",{id:"types"},"Types"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("code",{parentName:"pre",className:"language-ts"},"type ExportImageType = 'jpeg' | 'png';\n\ninterface Point {\n  x: number;\n  y: number;\n}\n\ninterface CanvasPath {\n  paths: Point[];\n  strokeWidth: number;\n  strokeColor: string;\n  drawMode: boolean;\n  startTimestamp?: number;\n  endTimestamp?: number;\n}\n")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("hr",null),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("h2",{id:"thanks-to"},"Thanks to"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("ul",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("li",{parentName:"ul"},"Philipp Spiess' ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("a",{parentName:"li",href:"https://pspdfkit.com/blog/2017/how-to-build-free-hand-drawing-using-react/",target:"_blank",rel:"nofollow noopener noreferrer"},"tutorial")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("li",{parentName:"ul"},"Draws smooth curves, thanks to FranÃ§ois Romain's ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("a",{parentName:"li",href:"https://medium.com/@francoisromain/smooth-a-svg-path-with-cubic-bezier-curves-e37b49d46c74",target:"_blank",rel:"nofollow noopener noreferrer"},"tutorial")),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("li",{parentName:"ul"},"Immer ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("a",{parentName:"li",href:"https://immerjs.github.io/immer/docs/introduction",target:"_blank",rel:"nofollow noopener noreferrer"},"link"))),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)("hr",null))}MDXContent.isMDXComponent=!0;const __page=()=>{throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};const componentMeta={title:"Documentation/React Sketch Canvas",component:___WEBPACK_IMPORTED_MODULE_3__.a,includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs={...componentMeta.parameters.docs||{},page:()=>Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_1__.b)(MDXContent,null))},__webpack_exports__.default=componentMeta},859:function(module,exports,__webpack_require__){var map={"./1.demo.stories.tsx":860,"./2.demo.stories.tsx":865};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=859},860:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var _home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(232),_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__),_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(69),_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__),_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(125),_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__),_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_15__=(__webpack_require__(22),__webpack_require__(6),__webpack_require__(42),__webpack_require__(140),__webpack_require__(168),__webpack_require__(38),__webpack_require__(169),__webpack_require__(170),__webpack_require__(139),__webpack_require__(25),__webpack_require__(300),__webpack_require__(210),__webpack_require__(110)),react__WEBPACK_IMPORTED_MODULE_19__=(__webpack_require__(10),__webpack_require__(12),__webpack_require__(53),__webpack_require__(0)),___WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(103),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__=(__webpack_require__(862),__webpack_require__(18));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}__webpack_exports__.default={title:"Demo/With Reference",component:___WEBPACK_IMPORTED_MODULE_20__.a,argTypes:{allowOnlyPointerType:{options:["mouse","touch","pen","all"],control:{type:"radio"}},strokeColor:{control:{type:"color"}}}};var Default=function Template(_ref){var className=_ref.className,width=_ref.width,height=_ref.height,backgroundImage=_ref.backgroundImage,exportWithBackgroundImage=_ref.exportWithBackgroundImage,preserveBackgroundImageAspectRatio=_ref.preserveBackgroundImageAspectRatio,strokeWidth=_ref.strokeWidth,strokeColor=_ref.strokeColor,canvasColor=_ref.canvasColor,eraserWidth=_ref.eraserWidth,allowOnlyPointerType=_ref.allowOnlyPointerType,style=_ref.style,withTimestamp=_ref.withTimestamp,canvasRef=react__WEBPACK_IMPORTED_MODULE_19__.useRef(null),_React$useState=react__WEBPACK_IMPORTED_MODULE_19__.useState(""),_React$useState2=_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_React$useState,2),dataURI=_React$useState2[0],setDataURI=_React$useState2[1],_React$useState3=react__WEBPACK_IMPORTED_MODULE_19__.useState(""),_React$useState4=_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_React$useState3,2),svg=_React$useState4[0],setSVG=_React$useState4[1],_React$useState5=react__WEBPACK_IMPORTED_MODULE_19__.useState([]),_React$useState6=_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_React$useState5,2),paths=_React$useState6[0],setPaths=_React$useState6[1],_React$useState7=react__WEBPACK_IMPORTED_MODULE_19__.useState(0),_React$useState8=_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_React$useState7,2),sketchingTime=_React$useState8[0],setSketchingTime=_React$useState8[1],buttonsWithHandlers=[["Undo",function undoHandler(){var _canvasRef$current6,undo=null===(_canvasRef$current6=canvasRef.current)||void 0===_canvasRef$current6?void 0:_canvasRef$current6.undo;undo&&undo()},"primary"],["Redo",function redoHandler(){var _canvasRef$current7,redo=null===(_canvasRef$current7=canvasRef.current)||void 0===_canvasRef$current7?void 0:_canvasRef$current7.redo;redo&&redo()},"primary"],["Clear All",function clearHandler(){var _canvasRef$current8,clearCanvas=null===(_canvasRef$current8=canvasRef.current)||void 0===_canvasRef$current8?void 0:_canvasRef$current8.clearCanvas;clearCanvas&&clearCanvas()},"primary"],["Reset All",function resetCanvasHandler(){var _canvasRef$current9,resetCanvas=null===(_canvasRef$current9=canvasRef.current)||void 0===_canvasRef$current9?void 0:_canvasRef$current9.resetCanvas;resetCanvas&&resetCanvas()},"primary"],["Pen",function penHandler(){var _canvasRef$current4,eraseMode=null===(_canvasRef$current4=canvasRef.current)||void 0===_canvasRef$current4?void 0:_canvasRef$current4.eraseMode;eraseMode&&eraseMode(!1)},"secondary"],["Eraser",function eraserHandler(){var _canvasRef$current5,eraseMode=null===(_canvasRef$current5=canvasRef.current)||void 0===_canvasRef$current5?void 0:_canvasRef$current5.eraseMode;eraseMode&&eraseMode(!0)},"secondary"],["Export Image",function(){var _ref2=_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()(_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function _callee(){var _canvasRef$current,exportImage,exportedDataURI;return _home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!(exportImage=null===(_canvasRef$current=canvasRef.current)||void 0===_canvasRef$current?void 0:_canvasRef$current.exportImage)){_context.next=6;break}return _context.next=4,exportImage("png");case 4:exportedDataURI=_context.sent,setDataURI(exportedDataURI);case 6:case"end":return _context.stop()}}),_callee)})));return function imageExportHandler(){return _ref2.apply(this,arguments)}}(),"success"],["Export SVG",function(){var _ref3=_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()(_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function _callee2(){var _canvasRef$current2,exportSvg,exportedDataURI;return _home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!(exportSvg=null===(_canvasRef$current2=canvasRef.current)||void 0===_canvasRef$current2?void 0:_canvasRef$current2.exportSvg)){_context2.next=6;break}return _context2.next=4,exportSvg();case 4:exportedDataURI=_context2.sent,setSVG(exportedDataURI);case 6:case"end":return _context2.stop()}}),_callee2)})));return function svgExportHandler(){return _ref3.apply(this,arguments)}}(),"success"],["Get Sketching time",function(){var _ref4=_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0___default()(_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function _callee3(){var _canvasRef$current3,getSketchingTime,currentSketchingTime;return _home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(!(getSketchingTime=null===(_canvasRef$current3=canvasRef.current)||void 0===_canvasRef$current3?void 0:_canvasRef$current3.getSketchingTime)){_context3.next=6;break}return _context3.next=4,getSketchingTime();case 4:currentSketchingTime=_context3.sent,setSketchingTime(currentSketchingTime);case 6:case"end":return _context3.stop()}}),_callee3)})));return function getSketchingTimeHandler(){return _ref4.apply(this,arguments)}}(),"success"]];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)("div",{className:"container-md",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)("div",{className:"row no-gutters canvas-area m-0 p-0",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("div",{className:"col-9 canvas p-0",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)(___WEBPACK_IMPORTED_MODULE_20__.a,{ref:canvasRef,className:className,width:width,height:height,backgroundImage:backgroundImage,exportWithBackgroundImage:exportWithBackgroundImage,preserveBackgroundImageAspectRatio:preserveBackgroundImageAspectRatio,strokeWidth:strokeWidth,strokeColor:strokeColor,canvasColor:canvasColor,eraserWidth:eraserWidth,allowOnlyPointerType:allowOnlyPointerType,style:style,onUpdate:function onUpdate(updatedPaths){setPaths(updatedPaths)},withTimestamp:withTimestamp})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("div",{className:"col-3 panel",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("div",{className:"d-grid gap-2",children:buttonsWithHandlers.map((function(_ref5){var _ref6=_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_ref5,3);return function createButton(label,handler,themeColor){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("button",{className:"btn btn-".concat(themeColor," btn-block"),type:"button",onClick:handler,children:label},label)}(_ref6[0],_ref6[1],_ref6[2])}))})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)("div",{className:"row image-export mt-5 p-3 justify-content-center align-items-start",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)("div",{className:"col-5 row form-group",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("label",{className:"col-12",htmlFor:"dataURI",children:"Paths"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("textarea",{id:"dataURI",className:"dataURICode col-12",readOnly:!0,rows:10,value:0!==paths.length?JSON.stringify(paths):"Sketch to get paths"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)("div",{className:"col-5 offset-2",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("label",{className:"col-12",htmlFor:"dataURI",children:"Sketching time"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)("div",{className:"sketchingTime",children:[(sketchingTime/1e3).toFixed(3)," sec"]})]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)("div",{className:"row image-export p-3 justify-content-center align-items-start",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)("div",{className:"col-5 row form-group",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("label",{className:"col-12",htmlFor:"dataURI",children:"Exported Data URI for imagetype"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("textarea",{id:"dataURI",className:"dataURICode col-12",readOnly:!0,rows:10,value:dataURI||"Click on export image"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)("div",{className:"col-5 offset-2",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("p",{children:"Exported image"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("img",{className:"exported-image",src:dataURI||"https://via.placeholder.com/500x250/000000/FFFFFF/?text=Click on export image",alt:"exported"})]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)("div",{className:"row image-export p-3 justify-content-center align-items-start",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)("div",{className:"col-5 row form-group",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("label",{className:"col-12",htmlFor:"dataURI",children:"Exported SVG code"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("textarea",{id:"dataURI",className:"dataURICode col-12",readOnly:!0,rows:10,value:svg||"Click on export svg"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsxs)("div",{className:"col-5 offset-2",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("p",{children:"Exported SVG"}),svg?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("span",{className:"exported-image",dangerouslySetInnerHTML:{__html:svg}}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_22__.jsx)("img",{src:"https://via.placeholder.com/500x250/000000/FFFFFF/?text=Click on export SVG",alt:"Svg Export",className:"exported-image"})]})]})]})})}.bind({});Default.args={className:"react-sketch-canvas",width:"100%",height:"500px",backgroundImage:"https://upload.wikimedia.org/wikipedia/commons/7/70/Graph_paper_scan_1600x1000_%286509259561%29.jpg",exportWithBackgroundImage:!0,preserveBackgroundImageAspectRatio:"none",strokeWidth:4,strokeColor:"#000000",canvasColor:"#FFFFFF",eraserWidth:5,allowOnlyPointerType:"all",style:{borderRight:"1px solid #CCC"},withTimestamp:!0},Default.parameters=function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){Object(_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_15__.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({storySource:{source:'({\n  className,\n  width,\n  height,\n  backgroundImage,\n  exportWithBackgroundImage,\n  preserveBackgroundImageAspectRatio,\n  strokeWidth,\n  strokeColor,\n  canvasColor,\n  eraserWidth,\n  allowOnlyPointerType,\n  style,\n  withTimestamp,\n}) => {\n  const canvasRef: CanvasRef = React.useRef<ReactSketchCanvas>(null);\n\n  const [dataURI, setDataURI] = React.useState<string>(\'\');\n  const [svg, setSVG] = React.useState<string>(\'\');\n  const [paths, setPaths] = React.useState<CanvasPath[]>([]);\n  const [sketchingTime, setSketchingTime] = React.useState<number>(0);\n\n  const imageExportHandler = async () => {\n    const exportImage = canvasRef.current?.exportImage;\n\n    if (exportImage) {\n      const exportedDataURI = await exportImage(\'png\');\n      setDataURI(exportedDataURI);\n    }\n  };\n\n  const svgExportHandler = async () => {\n    const exportSvg = canvasRef.current?.exportSvg;\n\n    if (exportSvg) {\n      const exportedDataURI = await exportSvg();\n      setSVG(exportedDataURI);\n    }\n  };\n\n  const getSketchingTimeHandler = async () => {\n    const getSketchingTime = canvasRef.current?.getSketchingTime;\n\n    if (getSketchingTime) {\n      const currentSketchingTime = await getSketchingTime();\n      setSketchingTime(currentSketchingTime);\n    }\n  };\n\n  const penHandler = () => {\n    const eraseMode = canvasRef.current?.eraseMode;\n\n    if (eraseMode) {\n      eraseMode(false);\n    }\n  };\n\n  const eraserHandler = () => {\n    const eraseMode = canvasRef.current?.eraseMode;\n\n    if (eraseMode) {\n      eraseMode(true);\n    }\n  };\n\n  const undoHandler = () => {\n    const undo = canvasRef.current?.undo;\n\n    if (undo) {\n      undo();\n    }\n  };\n\n  const redoHandler = () => {\n    const redo = canvasRef.current?.redo;\n\n    if (redo) {\n      redo();\n    }\n  };\n\n  const clearHandler = () => {\n    const clearCanvas = canvasRef.current?.clearCanvas;\n\n    if (clearCanvas) {\n      clearCanvas();\n    }\n  };\n\n  const resetCanvasHandler = () => {\n    const resetCanvas = canvasRef.current?.resetCanvas;\n\n    if (resetCanvas) {\n      resetCanvas();\n    }\n  };\n\n  const createButton = (\n    label: string,\n    handler: () => void,\n    themeColor: string\n  ) => (\n    <button\n      key={label}\n      className={`btn btn-${themeColor} btn-block`}\n      type="button"\n      onClick={handler}\n    >\n      {label}\n    </button>\n  );\n\n  const buttonsWithHandlers: Handlers = [\n    [\'Undo\', undoHandler, \'primary\'],\n    [\'Redo\', redoHandler, \'primary\'],\n    [\'Clear All\', clearHandler, \'primary\'],\n    [\'Reset All\', resetCanvasHandler, \'primary\'],\n    [\'Pen\', penHandler, \'secondary\'],\n    [\'Eraser\', eraserHandler, \'secondary\'],\n    [\'Export Image\', imageExportHandler, \'success\'],\n    [\'Export SVG\', svgExportHandler, \'success\'],\n    [\'Get Sketching time\', getSketchingTimeHandler, \'success\'],\n  ];\n\n  const onUpdate = (updatedPaths: CanvasPath[]): void => {\n    setPaths(updatedPaths);\n  };\n\n  return (\n    <div>\n      <div className="container-md">\n        <div className="row no-gutters canvas-area m-0 p-0">\n          <div className="col-9 canvas p-0">\n            <ReactSketchCanvas\n              ref={canvasRef}\n              className={className}\n              width={width}\n              height={height}\n              backgroundImage={backgroundImage}\n              exportWithBackgroundImage={exportWithBackgroundImage}\n              preserveBackgroundImageAspectRatio={\n                preserveBackgroundImageAspectRatio\n              }\n              strokeWidth={strokeWidth}\n              strokeColor={strokeColor}\n              canvasColor={canvasColor}\n              eraserWidth={eraserWidth}\n              allowOnlyPointerType={allowOnlyPointerType}\n              style={style}\n              onUpdate={onUpdate}\n              withTimestamp={withTimestamp}\n            />\n          </div>\n          <div className="col-3 panel">\n            <div className="d-grid gap-2">\n              {buttonsWithHandlers.map(([label, handler, themeColor]) =>\n                createButton(label, handler, themeColor)\n              )}\n            </div>\n          </div>\n        </div>\n\n        <div className="row image-export mt-5 p-3 justify-content-center align-items-start">\n          <div className="col-5 row form-group">\n            <label className="col-12" htmlFor="dataURI">\n              Paths\n            </label>\n            <textarea\n              id="dataURI"\n              className="dataURICode col-12"\n              readOnly\n              rows={10}\n              value={\n                paths.length !== 0\n                  ? JSON.stringify(paths)\n                  : \'Sketch to get paths\'\n              }\n            />\n          </div>\n          <div className="col-5 offset-2">\n            <label className="col-12" htmlFor="dataURI">\n              Sketching time\n            </label>\n            <div className="sketchingTime">\n              {(sketchingTime / 1000).toFixed(3)} sec\n            </div>\n          </div>\n        </div>\n\n        <div className="row image-export p-3 justify-content-center align-items-start">\n          <div className="col-5 row form-group">\n            <label className="col-12" htmlFor="dataURI">\n              Exported Data URI for imagetype\n            </label>\n            <textarea\n              id="dataURI"\n              className="dataURICode col-12"\n              readOnly\n              rows={10}\n              value={dataURI || \'Click on export image\'}\n            />\n          </div>\n          <div className="col-5 offset-2">\n            <p>Exported image</p>\n            <img\n              className="exported-image"\n              src={\n                dataURI ||\n                \'https://via.placeholder.com/500x250/000000/FFFFFF/?text=Click on export image\'\n              }\n              alt="exported"\n            />\n          </div>\n        </div>\n\n        <div className="row image-export p-3 justify-content-center align-items-start">\n          <div className="col-5 row form-group">\n            <label className="col-12" htmlFor="dataURI">\n              Exported SVG code\n            </label>\n            <textarea\n              id="dataURI"\n              className="dataURICode col-12"\n              readOnly\n              rows={10}\n              value={svg || \'Click on export svg\'}\n            />\n          </div>\n          <div className="col-5 offset-2">\n            <p>Exported SVG</p>\n            {svg ? (\n              <span\n                className="exported-image"\n                dangerouslySetInnerHTML={{ __html: svg }}\n              />\n            ) : (\n              <img\n                src="https://via.placeholder.com/500x250/000000/FFFFFF/?text=Click on export SVG"\n                alt="Svg Export"\n                className="exported-image"\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}'}},Default.parameters)},862:function(module,exports,__webpack_require__){var content=__webpack_require__(863);"string"==typeof content&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};__webpack_require__(864)(content,options);content.locals&&(module.exports=content.locals)},863:function(module,exports){module.exports=[[module.i,"@import url('https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css');\n\n.canvas-area {\n  border: 1px solid #ccc;\n}\n\n.canvas-area .panel {\n  padding: 2rem;\n  background-color: var(--light);\n}\n\n.exported-image {\n  width: 100%;\n  border: 1px solid black;\n}\n\n.react-sketch-canvas {\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);\n}\n\n.sketchingTime {\n  font-weight: 200;\n  font-size: 3rem;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlbW8uc3Rvcmllcy5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsc0ZBQXNGOztBQUV0RjtFQUNFLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLGFBQWE7RUFDYiw4QkFBOEI7QUFDaEM7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0UsMEVBQTBFO0FBQzVFOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGVBQWU7QUFDakIiLCJmaWxlIjoiZGVtby5zdG9yaWVzLmNzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgdXJsKCdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2Jvb3RzdHJhcEA1LjEuMC9kaXN0L2Nzcy9ib290c3RyYXAubWluLmNzcycpO1xuXG4uY2FudmFzLWFyZWEge1xuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xufVxuXG4uY2FudmFzLWFyZWEgLnBhbmVsIHtcbiAgcGFkZGluZzogMnJlbTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbGlnaHQpO1xufVxuXG4uZXhwb3J0ZWQtaW1hZ2Uge1xuICB3aWR0aDogMTAwJTtcbiAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG59XG5cbi5yZWFjdC1za2V0Y2gtY2FudmFzIHtcbiAgYm94LXNoYWRvdzogMCAxMHB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjE5KSwgMCA2cHggNnB4IHJnYmEoMCwgMCwgMCwgMC4yMyk7XG59XG5cbi5za2V0Y2hpbmdUaW1lIHtcbiAgZm9udC13ZWlnaHQ6IDIwMDtcbiAgZm9udC1zaXplOiAzcmVtO1xufVxuIl19 */","",""]]},865:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__(22),__webpack_require__(6),__webpack_require__(42),__webpack_require__(140),__webpack_require__(168),__webpack_require__(38),__webpack_require__(169),__webpack_require__(170),__webpack_require__(139),__webpack_require__(210);var _home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(110),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(124),___WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(103),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(18);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){Object(_home_runner_work_react_sketch_canvas_react_sketch_canvas_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_10__.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}__webpack_exports__.default={title:"Demo/React Sketch Canvas",component:___WEBPACK_IMPORTED_MODULE_12__.a,argTypes:{allowOnlyPointerType:{options:["mouse","touch","pen","all"],control:{type:"radio"}},strokeColor:{control:{type:"color"}}},parameters:{actions:{argTypesRegex:"^on.*"}}};var Default=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(___WEBPACK_IMPORTED_MODULE_12__.a,_objectSpread(_objectSpread({},args),{},{onUpdate:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_11__.action)("onUpdate")}))}.bind({});Default.args={className:"react-sketch-canvas",width:"100%",height:"500px",backgroundImage:"https://upload.wikimedia.org/wikipedia/commons/7/70/Graph_paper_scan_1600x1000_%286509259561%29.jpg",exportWithBackgroundImage:!0,preserveBackgroundImageAspectRatio:"none",strokeWidth:4,strokeColor:"#000000",canvasColor:"#FFFFFF",eraserWidth:5,allowOnlyPointerType:"all",style:{borderRight:"1px solid #CCC"},withTimestamp:!0},Default.parameters=_objectSpread({storySource:{source:"(args) => (\n  <ReactSketchCanvas {...args} onUpdate={action('onUpdate')} />\n)"}},Default.parameters)},874:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject);__webpack_require__(22),__webpack_require__(6),__webpack_require__(42),__webpack_require__(140),__webpack_require__(168),__webpack_require__(38),__webpack_require__(169),__webpack_require__(170),__webpack_require__(139);var client_api=__webpack_require__(880),esm=__webpack_require__(5),client=__webpack_require__(212);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object(client.addParameters)({layout:"centered",viewMode:"docs",controls:{matchers:{color:/(color)$/i,date:/Date$/}},docs:{source:{type:"code"}}}),Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(client_api.c)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(client_api.d)(loader,!1)}));case"parameters":return Object(client_api.e)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(client_api.a)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(client_api.b)(enhancer)}));case"render":return Object(client_api.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(client_api.e)(v,!1);default:return console.log(key+" was not supported :( !")}}))}},[[491,2,3]]]);